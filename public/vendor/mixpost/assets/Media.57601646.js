import{r as x,j as k,G as M,o as d,c as C,a as s,u as o,b as _,w as t,F as b,H as N,e as A,m as f,f as i,t as j,B as E,p as g,P as F,k as H,h as S,d as z}from"./app.02ca75b8.js";import{u as G}from"./SearchInput.c4d52a4b.js";import{u as O,_ as q,a as J,b as Q}from"./MediaGifs.08c38041.js";import{_ as R}from"./PageHeader.a92bb04e.js";import{T as U,_ as W}from"./Tab.865d91a2.js";import{_ as X,a as Y}from"./PureDangerButton.cdbb3ca1.js";import{a as Z,T as K,c as ee}from"./Alert.79c6a102.js";import{_ as se}from"./PrimaryButton.b981af70.js";import"./Input.42d14616.js";import"./NoResult.dc607b03.js";import"./helpers.2ea8ee66.js";import"./ExclamationCircle.49e8a61c.js";import"./useNotifications.d73c650d.js";const te={class:"max-w-5xl w-full mx-auto row-py mb-2xl"},oe={class:"w-full row-px"},ae={class:"w-full row-px mt-lg"},ie=i(" Create Post "),le=i(" Delete media "),ne=i(" Are you sure you want to delete selected media items? "),re=i("Cancel"),ce=i("Delete"),ye={__name:"Media",setup(de){const{activeTab:l,tabs:D,isDownloading:p,isDeleting:v,downloadExternal:y,deletePermanently:h}=O(),P={uploads:q,stock:J,gifs:Q},n=x(),L=k(()=>P[l.value]),u=k(()=>n.value?n.value.selected:[]),w=()=>{n.value.deselectAll()},I=()=>{const a=l.value!=="uploads";a&&y(u.value,e=>{$(e.data)}),a||$(u.value)},{versionContentObject:T}=G(),$=a=>{z.Inertia.post(route("mixpost.posts.store"),{versions:[{account_id:0,is_original:!0,content:[T("",a.map(e=>e.id))]}]})},r=x(!1),B=()=>{const a=u.value.map(e=>e.id);h(a,()=>{w(),n.value.removeItems(a),r.value=!1})};return(a,e)=>{const V=M("tooltip");return d(),C(b,null,[s(o(N),{title:"Media Library"}),_("div",te,[s(R,{title:"Media Library"}),_("div",oe,[s(U,null,{default:t(()=>[(d(!0),C(b,null,A(o(D),(c,m)=>(d(),f(W,{key:m,onClick:ue=>l.value=m,active:o(l)===m},{default:t(()=>[i(j(c),1)]),_:2},1032,["onClick","active"]))),128))]),_:1})]),_("div",ae,[s(se,null,{default:t(()=>[(d(),f(E(o(L)),{ref_key:"sourceProperties",ref:n,columns:4},null,512)),s(X,{count:o(u).length,onClose:e[1]||(e[1]=c=>w())},{default:t(()=>[s(g,{onClick:I,isLoading:o(p),disabled:o(p),class:"mr-sm",size:"xs"},{default:t(()=>[s(F,{class:"mr-xs"}),ie]),_:1},8,["isLoading","disabled"]),o(l)==="uploads"?H((d(),f(Y,{key:0,onClick:e[0]||(e[0]=c=>r.value=!0)},{default:t(()=>[s(K)]),_:1})),[[V,"Delete"]]):S("",!0)]),_:1},8,["count"])]),_:1})])]),s(Z,{show:r.value,variant:"danger",onClose:e[3]||(e[3]=c=>r.value=!1)},{header:t(()=>[le]),body:t(()=>[ne]),footer:t(()=>[s(g,{onClick:e[2]||(e[2]=c=>r.value=!1),class:"mr-xs"},{default:t(()=>[re]),_:1}),s(ee,{isLoading:o(v),disabled:o(v),onClick:B},{default:t(()=>[ce]),_:1},8,["isLoading","disabled"])]),_:1},8,["show"])],64)}}};export{ye as default};
